@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css");
@import "tailwindcss";

@source "../../views/**/*.ejs";
@source "../../public/**/*.js";

@plugin "daisyui";

@plugin "daisyui/theme" {
  name: "gym-light";
  default: true;
  prefersdark: false;
  color-scheme: light;

  --color-base-100: oklch(98% 0.006 95);
  --color-base-200: oklch(95% 0.008 90);
  --color-base-300: oklch(90% 0.012 86);
  --color-base-content: oklch(29% 0.02 260);

  --color-primary: oklch(64% 0.19 43);
  --color-primary-content: oklch(98% 0.01 40);
  --color-secondary: oklch(73% 0.15 157);
  --color-secondary-content: oklch(24% 0.03 157);
  --color-accent: oklch(72% 0.12 222);
  --color-accent-content: oklch(25% 0.03 222);

  --color-neutral: oklch(34% 0.03 264);
  --color-neutral-content: oklch(96% 0.01 264);
  --color-info: oklch(72% 0.11 230);
  --color-info-content: oklch(25% 0.02 230);
  --color-success: oklch(74% 0.15 155);
  --color-success-content: oklch(22% 0.03 155);
  --color-warning: oklch(82% 0.17 86);
  --color-warning-content: oklch(31% 0.03 86);
  --color-error: oklch(66% 0.19 25);
  --color-error-content: oklch(98% 0.01 25);

  --radius-selector: 0.9rem;
  --radius-field: 0.85rem;
  --radius-box: 1.1rem;
}

@plugin "daisyui/theme" {
  name: "gym-dark";
  default: false;
  prefersdark: true;
  color-scheme: dark;

  --color-base-100: oklch(23% 0.018 260);
  --color-base-200: oklch(20% 0.018 260);
  --color-base-300: oklch(16% 0.018 260);
  --color-base-content: oklch(93% 0.012 262);

  --color-primary: oklch(72% 0.2 43);
  --color-primary-content: oklch(23% 0.02 43);
  --color-secondary: oklch(74% 0.16 156);
  --color-secondary-content: oklch(21% 0.03 156);
  --color-accent: oklch(75% 0.12 220);
  --color-accent-content: oklch(21% 0.03 220);

  --color-neutral: oklch(30% 0.02 260);
  --color-neutral-content: oklch(94% 0.01 260);
  --color-info: oklch(74% 0.11 228);
  --color-info-content: oklch(21% 0.02 228);
  --color-success: oklch(76% 0.14 156);
  --color-success-content: oklch(20% 0.03 156);
  --color-warning: oklch(80% 0.17 86);
  --color-warning-content: oklch(22% 0.03 86);
  --color-error: oklch(72% 0.16 25);
  --color-error-content: oklch(22% 0.02 25);

  --radius-selector: 0.9rem;
  --radius-field: 0.85rem;
  --radius-box: 1.1rem;
}

@theme {
  --font-sans: "Pretendard", "Noto Sans KR", system-ui, -apple-system, "Segoe UI", sans-serif;
}

@layer base {
  html,
  body {
    min-height: 100%;
  }

  body {
    @apply text-base-content font-sans antialiased;
    line-height: 1.55;
  }

  h1,
  h2,
  h3,
  h4 {
    letter-spacing: -0.01em;
  }

  ::selection {
    background: color-mix(in oklab, var(--color-primary) 28%, transparent);
    color: var(--color-base-content);
  }

  :focus-visible {
    outline: 2px solid color-mix(in oklab, var(--color-primary) 82%, white);
    outline-offset: 2px;
  }

  input:focus,
  input:focus-visible,
  textarea:focus,
  textarea:focus-visible,
  select:focus,
  select:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .input:focus,
  .input:focus-visible,
  .textarea:focus,
  .textarea:focus-visible,
  .select:focus,
  .select:focus-visible {
    outline: none !important;
    border-color: color-mix(in oklab, var(--color-primary) 72%, var(--color-base-content)) !important;
    box-shadow: 0 0 0 1px color-mix(in oklab, var(--color-primary) 72%, var(--color-base-content)) !important;
  }
}

@layer components {
  .app-shell-bg {
    background-image:
      radial-gradient(85% 120% at 0% 0%, color-mix(in oklab, var(--color-primary) 12%, transparent) 0%, transparent 55%),
      radial-gradient(75% 100% at 100% 0%, color-mix(in oklab, var(--color-accent) 14%, transparent) 0%, transparent 55%),
      linear-gradient(180deg, color-mix(in oklab, var(--color-base-100) 80%, white), var(--color-base-200));
  }

  .auth-bg {
    background-image:
      radial-gradient(95% 120% at 0% 0%, color-mix(in oklab, var(--color-primary) 17%, transparent) 0%, transparent 58%),
      radial-gradient(100% 120% at 100% 0%, color-mix(in oklab, var(--color-secondary) 15%, transparent) 0%, transparent 60%),
      linear-gradient(180deg, var(--color-base-100), color-mix(in oklab, var(--color-base-200) 92%, black));
  }

  .app-topbar {
    box-shadow:
      0 2px 18px color-mix(in oklab, var(--color-base-content) 8%, transparent),
      0 1px 0 color-mix(in oklab, var(--color-base-content) 9%, transparent);
  }

  .top-nav-link {
    @apply btn btn-sm btn-ghost border border-transparent px-3 font-medium;
  }

  .top-nav-link:hover {
    @apply border-base-300 bg-base-200/75;
  }

  .top-nav-link.active {
    @apply btn-primary border-transparent shadow-sm;
  }

  .drawer-panel {
    box-shadow: 14px 0 34px color-mix(in oklab, var(--color-base-content) 16%, transparent);
  }

  .menu-link {
    @apply btn btn-ghost justify-start font-medium;
  }

  .menu-link.active {
    @apply btn-primary;
  }

  .surface-card {
    @apply card rounded-[1.2rem] border border-base-300/85 bg-base-100/85 shadow-sm;
    box-shadow:
      0 1px 1px color-mix(in oklab, var(--color-base-content) 8%, transparent),
      0 10px 26px color-mix(in oklab, var(--color-base-content) 8%, transparent);
  }

  .hero-title {
    text-wrap: balance;
  }

  .kpi-stat {
    @apply stat rounded-[1.05rem] border border-base-300/80 bg-base-100/88;
    box-shadow: 0 8px 20px color-mix(in oklab, var(--color-base-content) 7%, transparent);
  }

  .kpi-stat .stat-title {
    @apply text-xs uppercase tracking-[0.14em] text-base-content/65;
  }

  .kpi-stat .stat-value {
    @apply leading-tight;
  }

  .auth-panel {
    box-shadow:
      0 20px 45px color-mix(in oklab, var(--color-base-content) 15%, transparent),
      0 2px 8px color-mix(in oklab, var(--color-base-content) 10%, transparent);
  }

  .modal-kicker {
    @apply text-xs font-semibold uppercase tracking-[0.18em] text-base-content/60;
  }

  .modal-block {
    @apply rounded-box border border-base-300/75 bg-base-100/75 p-4;
  }

  .modal-table thead th {
    @apply bg-base-200/90 text-[0.72rem] font-semibold uppercase tracking-[0.08em] text-base-content/72;
  }

  .modal-table tbody td {
    @apply align-middle;
  }

  .modal-table tbody tr {
    @apply transition-colors duration-150;
  }

  .modal-table tbody tr:hover {
    background: color-mix(in oklab, var(--color-primary) 8%, transparent);
  }

  .post-detail-block {
    background:
      linear-gradient(
        180deg,
        color-mix(in oklab, var(--color-base-100) 92%, transparent),
        color-mix(in oklab, var(--color-base-200) 56%, transparent)
      );
  }

  .post-detail-title {
    text-wrap: balance;
  }

  .post-detail-meta-grid {
    @apply grid gap-2 sm:grid-cols-2;
  }

  .post-detail-meta-item {
    @apply rounded-box border border-base-300/75 bg-base-100/90 px-3 py-2.5;
  }

  .post-detail-meta-label {
    @apply block text-[0.68rem] font-semibold uppercase tracking-[0.12em] text-base-content/58;
  }

  .post-detail-meta-value {
    @apply mt-1 block text-sm font-semibold text-base-content/90;
  }

  .post-detail-content {
    @apply rounded-box border border-base-300/75 bg-base-100/92 p-4 sm:p-5;
    box-shadow: inset 0 1px 0 color-mix(in oklab, var(--color-base-content) 4%, transparent);
  }

  .post-detail-action-row {
    @apply flex flex-col gap-2 border-t border-base-300/75 pt-3 sm:flex-row sm:justify-end;
  }

  .comment-list-block {
    @apply bg-base-100/82;
  }

  .comment-compose-block {
    @apply bg-base-100/88;
  }

  .comment-compose-actions {
    @apply flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between;
  }

  .comment-item {
    @apply rounded-box border border-base-300/70 bg-base-100/92 p-3;
    box-shadow: 0 1px 0 color-mix(in oklab, var(--color-base-content) 4%, transparent);
  }

  .comment-item .comment-head {
    @apply flex items-start justify-between gap-3;
  }

  .comment-item .comment-author {
    @apply text-sm font-semibold;
  }

  .comment-item .comment-date {
    @apply text-xs text-base-content/60;
  }

  .comment-item .comment-body {
    @apply mt-1 whitespace-pre-wrap break-words text-sm leading-6;
  }

  .comment-delete-btn {
    @apply btn btn-xs btn-error btn-outline min-w-14;
  }

  .app-modal {
    @apply fixed inset-0 z-50 overflow-hidden;
  }

  .app-modal-shell {
    @apply relative flex h-full w-full items-end justify-center p-0 pointer-events-none sm:items-center sm:p-6;
  }

  .app-modal-backdrop {
    @apply pointer-events-none absolute inset-0 bg-black/52 opacity-0 backdrop-blur-sm transition-opacity duration-200 ease-out motion-reduce:transition-none;
  }

  .app-modal-panel {
    @apply relative pointer-events-auto flex w-full max-h-[92dvh] flex-col overflow-hidden rounded-t-3xl border border-base-300/90 bg-base-100/95 opacity-0 shadow-2xl transition duration-220 ease-out sm:max-h-[86vh] sm:rounded-3xl;
    transform: translate3d(0, 1rem, 0) scale(1);
  }

  .app-modal-handle {
    @apply pt-2 sm:hidden;
  }

  .app-modal-handle > span {
    @apply mx-auto block h-1 w-12 rounded-full bg-base-content/20;
  }

  .app-modal-header {
    @apply flex items-start justify-between gap-3 border-b border-base-300/80 bg-base-100/92 px-4 py-4 backdrop-blur sm:px-6;
  }

  .app-modal-body {
    @apply min-h-0 flex-1 overflow-y-auto px-4 py-4 sm:px-6;
    overscroll-behavior: contain;
  }

  .app-modal-footer {
    @apply border-t border-base-300/80 bg-base-100/94 px-4 py-3 backdrop-blur sm:px-6;
    padding-bottom: calc(0.75rem + env(safe-area-inset-bottom));
  }

  .app-modal-close {
    @apply border border-transparent;
  }

  .app-modal-close:hover {
    @apply border-base-300 bg-base-200/80;
  }

  .app-modal[data-modal-state="opening"] .app-modal-backdrop,
  .app-modal[data-modal-state="open"] .app-modal-backdrop {
    @apply opacity-100;
  }

  .app-modal[data-modal-state="opening"] .app-modal-panel,
  .app-modal[data-modal-state="open"] .app-modal-panel {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

.fc {
  --fc-border-color: color-mix(in oklab, var(--color-base-content) 14%, transparent);
  --fc-button-bg-color: var(--color-primary);
  --fc-button-border-color: transparent;
  --fc-button-text-color: var(--color-primary-content);
  --fc-button-hover-bg-color: color-mix(in oklab, var(--color-primary) 84%, black);
  --fc-button-hover-border-color: transparent;
  --fc-button-active-bg-color: color-mix(in oklab, var(--color-primary) 78%, black);
  --fc-button-active-border-color: transparent;
  --fc-event-bg-color: color-mix(in oklab, var(--color-accent) 72%, black);
  --fc-event-border-color: transparent;
  --fc-event-text-color: var(--color-accent-content);
  --fc-page-bg-color: transparent;
  --fc-neutral-bg-color: color-mix(in oklab, var(--color-base-300) 52%, transparent);
}

.fc .fc-toolbar-title {
  font-size: 1.08rem;
  font-weight: 700;
}

.fc .fc-button {
  border-radius: 999px;
  padding-inline: 0.85rem;
  height: 2.2rem;
  font-weight: 600;
}

.fc .fc-daygrid-day-frame,
.fc .fc-timegrid-slot {
  border-radius: 0.6rem;
}

.fc .fc-daygrid-day.fc-day-today {
  background: color-mix(in oklab, var(--color-primary) 9%, transparent);
}

.fc .fc-scrollgrid,
.fc .fc-scrollgrid table {
  border-radius: 0.8rem;
}

@media (max-width: 1024px) {
  .fc .fc-toolbar {
    gap: 0.35rem;
  }

  .fc .fc-toolbar.fc-header-toolbar {
    flex-direction: column;
    align-items: flex-start;
  }

  .fc .fc-toolbar-chunk {
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
  }
}

@media (min-width: 640px) {
  .app-modal-panel {
    transform: translate3d(0, 0.5rem, 0) scale(0.972);
  }
}

@media (prefers-reduced-motion: reduce) {
  .app-modal-backdrop,
  .app-modal-panel {
    transition: none !important;
  }

  .app-modal-panel {
    transform: none !important;
  }
}
