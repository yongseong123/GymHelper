<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GymHelper - Work</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Pretendard", "Noto Sans KR", "sans-serif"]
            }
          }
        }
      };
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/locales/ko.js"></script>
    <style>
      .fc .fc-button {
        border-radius: 999px;
        background: #0f172a;
        border: none;
      }
      .fc .fc-button-primary:not(:disabled).fc-button-active,
      .fc .fc-button-primary:not(:disabled):active {
        background: #0f172a;
      }
      .fc .fc-daygrid-day-frame {
        border-radius: 0.5rem;
      }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-zinc-100 via-orange-50 to-cyan-50 font-sans text-zinc-800">
    <div class="layout-container grid min-h-screen grid-cols-1 gap-6 p-4 lg:grid-cols-[1fr_260px] lg:p-6">
        <div class="content grid grid-cols-1 gap-6 xl:grid-cols-[minmax(320px,42%)_minmax(400px,58%)]">
            <div class="left-layer grid grid-cols-1 gap-6">
                <div class="top-graph relative overflow-hidden rounded-3xl border border-white/70 bg-white/90 p-5 pt-16 shadow-2xl backdrop-blur">
                    <select id="monthSelector" class="absolute right-5 top-5 rounded-full border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700 outline-none focus:border-cyan-400">
                        <option value="1">1월</option>
                        <option value="2">2월</option>
                        <option value="3">3월</option>
                        <option value="4">4월</option>
                        <option value="5">5월</option>
                        <option value="6">6월</option>
                        <option value="7">7월</option>
                        <option value="8">8월</option>
                        <option value="9">9월</option>
                        <option value="10">10월</option>
                        <option value="11">11월</option>
                        <option value="12">12월</option>
                    </select>
                    <select id="yearSelector" class="absolute left-5 top-5 rounded-full border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700 outline-none focus:border-cyan-400"></select>
                    <canvas id="topGraphCanvas" width="400" height="200" class="!h-[280px] !w-full"></canvas>
                </div>
                <div class="bottom-graph relative overflow-hidden rounded-3xl border border-white/70 bg-white/90 p-5 pt-16 shadow-2xl backdrop-blur">
                    <div id="targetSelector" class="absolute left-5 top-5 flex flex-wrap gap-2 rounded-full border border-zinc-200 bg-white p-1">
                        <button id="chestButton" class="rounded-full px-3 py-1 text-xs font-medium text-zinc-700 transition hover:bg-zinc-900 hover:text-white">가슴</button>
                        <button id="backButton" class="rounded-full px-3 py-1 text-xs font-medium text-zinc-700 transition hover:bg-zinc-900 hover:text-white">등</button>
                        <button id="shoulderButton" class="rounded-full px-3 py-1 text-xs font-medium text-zinc-700 transition hover:bg-zinc-900 hover:text-white">어깨</button>
                        <button id="legButton" class="rounded-full px-3 py-1 text-xs font-medium text-zinc-700 transition hover:bg-zinc-900 hover:text-white">하체</button>
                    </div>
                    <canvas id="bottomGraphCanvas" width="400" height="200" class="!h-[280px] !w-full"></canvas>
                </div>
            </div>

            <div class="right-layer overflow-hidden rounded-3xl border border-white/70 bg-white/90 p-4 shadow-2xl backdrop-blur">
                <div id="calendar" class="min-h-[580px] w-full"></div>
            </div>
        </div>

        <div class="sidebar rounded-2xl border border-zinc-800/5 bg-zinc-900/95 p-5 text-white shadow-2xl lg:sticky lg:top-6 lg:h-fit">
            <a href="/work" class="logo mb-2 block text-xl font-semibold tracking-tight">GymHelper</a>
            <a href="/accountSettings" class="menu-item mb-2 block rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-center text-sm font-medium transition hover:-translate-y-0.5 hover:bg-white/20">마이페이지</a>
            <a href="/community" class="menu-item mb-2 block rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-center text-sm font-medium transition hover:-translate-y-0.5 hover:bg-white/20">커뮤니티</a>
            <button id="myWorkoutsBtn" class="menu-item mb-2 w-full rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-center text-sm font-medium transition hover:-translate-y-0.5 hover:bg-white/20">내 운동 모아보기</button>
            <button id="addWorkoutBtn" class="menu-item w-full rounded-xl border border-white/20 bg-white/10 px-4 py-3 text-center text-sm font-medium transition hover:-translate-y-0.5 hover:bg-white/20">운동 기록</button>
            <button id="logoutBtn" class="logout mt-3 w-full rounded-xl bg-rose-500 px-4 py-3 text-sm font-semibold text-white transition hover:bg-rose-600">로그아웃</button>
        </div>
    </div>

    <div id="myWorkoutsModal" class="modal hidden fixed inset-0 z-50 overflow-y-auto bg-zinc-900/45 p-4 backdrop-blur-sm">
        <div class="modal-content large-modal mx-auto mt-12 w-full max-w-6xl rounded-3xl border border-white/70 bg-white p-6 shadow-2xl">
            <span class="close float-right cursor-pointer text-3xl font-semibold text-zinc-400 transition hover:text-zinc-700">&times;</span>
            <h2 class="mb-4 text-xl font-semibold text-zinc-800">내 운동 모아보기</h2>
            <div class="form-group mb-4 flex flex-col gap-3 sm:flex-row sm:items-end">
                <div class="w-full sm:w-auto">
                    <label for="filterDate" class="mb-1 block text-sm font-semibold text-zinc-600">날짜 선택</label>
                    <input type="date" id="filterDate" class="w-full rounded-xl border border-zinc-200 px-3 py-2 text-sm outline-none focus:border-cyan-400">
                </div>
                <button id="filterDateBtn" class="rounded-xl bg-zinc-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-zinc-800">날짜 검색</button>
            </div>
            <div class="overflow-x-auto">
                <table id="myWorkoutsTable" class="workout-table w-full min-w-[860px] overflow-hidden rounded-2xl border border-zinc-200 text-sm">
                    <thead class="bg-zinc-100 text-zinc-600">
                        <tr>
                            <th class="px-3 py-3">운동 번호</th>
                            <th class="px-3 py-3">운동 이름</th>
                            <th class="px-3 py-3">무게</th>
                            <th class="px-3 py-3">반복 횟수</th>
                            <th class="px-3 py-3">운동 부위</th>
                            <th class="px-3 py-3">운동 타겟</th>
                            <th class="px-3 py-3">운동 타입</th>
                            <th class="px-3 py-3">운동 날짜</th>
                            <th class="px-3 py-3">수정</th>
                            <th class="px-3 py-3">삭제</th>
                        </tr>
                    </thead>
                    <tbody id="myWorkoutsList" class="divide-y divide-zinc-100"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="workoutModal" class="modal hidden fixed inset-0 z-50 overflow-y-auto bg-zinc-900/45 p-4 backdrop-blur-sm">
        <div class="modal-content mx-auto mt-12 w-full max-w-2xl rounded-3xl border border-white/70 bg-white p-6 shadow-2xl">
            <span class="close float-right cursor-pointer text-3xl font-semibold text-zinc-400 transition hover:text-zinc-700">&times;</span>
            <h2 class="mb-4 text-xl font-semibold text-zinc-800">운동 기록 작성</h2>
            <form id="workoutForm" class="space-y-3">
                <div class="form-group">
                    <label for="work_name" class="mb-1 block text-sm font-semibold text-zinc-600">운동 이름</label>
                    <input type="text" id="work_name" name="work_name" placeholder="운동 이름을 입력하세요" required class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                </div>

                <div class="form-group">
                    <label for="work_weight" class="mb-1 block text-sm font-semibold text-zinc-600">무게 (kg)</label>
                    <input type="number" id="work_weight" name="work_weight" placeholder="운동 무게를 입력하세요 (선택)" class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                </div>

                <div class="form-group">
                    <label for="work_count" class="mb-1 block text-sm font-semibold text-zinc-600">반복 횟수</label>
                    <input type="number" id="work_count" name="work_count" placeholder="반복 횟수를 입력하세요" required class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                </div>

                <div class="form-group">
                    <label for="work_part" class="mb-1 block text-sm font-semibold text-zinc-600">운동 부위</label>
                    <select id="work_part" name="work_part" required class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                        <option value="">선택해주세요</option>
                        <option value="가슴">가슴</option>
                        <option value="등">등</option>
                        <option value="어깨">어깨</option>
                        <option value="이두">이두</option>
                        <option value="삼두">삼두</option>
                        <option value="하체">하체</option>
                        <option value="복근">복근</option>
                        <option value="유산소">유산소</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="work_target" class="mb-1 block text-sm font-semibold text-zinc-600">운동 타겟</label>
                    <select id="work_target" name="work_target" class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                        <option value="">선택해주세요</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="work_type" class="mb-1 block text-sm font-semibold text-zinc-600">운동 타입</label>
                    <select id="work_type" name="work_type" class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                        <option value="">선택해주세요</option>
                        <option value="프리웨이트">프리웨이트</option>
                        <option value="머신">머신</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="work_day" class="mb-1 block text-sm font-semibold text-zinc-600">운동 날짜</label>
                    <input type="date" id="work_day" name="work_day" required class="w-full rounded-xl border border-zinc-200 px-4 py-3 text-sm outline-none focus:border-cyan-400">
                </div>

                <button type="button" id="submitWorkoutBtn" class="mt-2 w-full rounded-xl bg-zinc-900 px-4 py-3 text-sm font-semibold text-white transition hover:bg-zinc-800">등록</button>
            </form>
        </div>
    </div>
    <script src="/javascripts/work.js"></script>
</body>
</html>
